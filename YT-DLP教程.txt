一、YT-DLP下载工具安装
C:\Users\ArchLinux>winget install yt-dlp
已找到 yt-dlp [yt-dlp.yt-dlp] 版本 2025.04.30
此应用程序由其所有者授权给你。
Microsoft 对第三方程序包概不负责，也不向第三方程序包授予任何许可证。
此包需要以下依赖项：
  - 程序包
      Gyan.FFmpeg
(1/1) 已找到 FFmpeg [Gyan.FFmpeg] 版本 7.1.1
此应用程序由其所有者授权给你。
Microsoft 对第三方程序包概不负责，也不向第三方程序包授予任何许可证。
正在下载 https://github.com/GyanD/codexffmpeg/releases/download/7.1.1/ffmpeg-7.1.1-full_build.zip
  ██████████████████████████████   169 MB /  169 MB
已成功验证安装程序哈希
正在提取存档...
已成功提取存档
正在启动程序包安装...
已修改路径环境变量；重启 shell 以使用新值。
添加了命令行别名： "ffmpeg"
添加了命令行别名： "ffplay"
添加了命令行别名： "ffprobe"
已成功安装

正在下载 https://github.com/yt-dlp/yt-dlp/releases/download/2025.04.30/yt-dlp.exe
  ██████████████████████████████  17.3 MB / 17.3 MB
已成功验证安装程序哈希
正在启动程序包安装...
已修改路径环境变量；重启 shell 以使用新值。
添加了命令行别名： "yt-dlp"
已成功安装

C:\Users\ArchLinux>winget upgrade yt-dlp

二、yt-dlp 常用命令示例
 1、下载视频（常用）
yt-dlp [视频链接]

2、下载音频
yt-dlp -x [视频链接]

3、下载字幕
先查看视频有哪些字幕：
yt-dlp --list-subs [视频链接]
下载特定语言的字幕（不下载视频）：
yt-dlp --write-subs --sub-langs [语言代码] --skip-download [视频链接]

4、批量下载视频
直接在命令中列出多个视频链接：
yt-dlp [视频链接1] [视频链接2]
将视频链接保存在文本文件中，然后通过-a参数指定文件路径：
yt-dlp -a [文本文件路径]

5、下载 YouTube 播放列表
直接使用播放列表链接或 ID：
yt-dlp [播放列表链接]
# 或
yt-dlp [播放列表ID]

6、指定视频格式、画质和音频（常用）
查看可用的视频格式、分辨率和音频：
yt-dlp -F [视频链接]
下载指定格式的视频+音频：
yt-dlp -f [视频格式ID+音频格式ID] [视频链接]

7、下载最佳质量 YouTube 视频
下载最佳视频和音频质量，并自动合并（推荐）：
yt-dlp -f "bv*+ba/b" [视频链接]
指定输出格式，例如 MP4：
yt-dlp -f "bv*[ext=mp4]+ba[ext=m4a]/b" [视频链接]
这里的格式参数说明如下：
bv*：选择最佳视频流bestvideo的简写，添加*号表示支持所有编码。
ba：选择最佳音频流bestaudio的简写。
b：如果单文件中已经包含视频和音频，则直接下载。
ext=mp4/m4a：指定输出格式为 MP4/M4A。
如果你想确保最终文件一定是 MP4 格式，可以使用以下命令：
yt-dlp -f "bv*+ba/b" --merge-output-format mp4 [视频链接]